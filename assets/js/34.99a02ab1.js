(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{643:function(t,e,a){"use strict";a.r(e);var n=a(3),s=Object(n.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"nodejsä¹‹timeræ¨¡å—å­¦ä¹ ç¬”è®°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nodejsä¹‹timeræ¨¡å—å­¦ä¹ ç¬”è®°"}},[t._v("ğŸŒ™")]),t._v(" NodeJSä¹‹timeræ¨¡å—å­¦ä¹ ç¬”è®°")]),t._v(" "),a("h2",{attrs:{id:"_1-timerï¼ˆå®šæ—¶å™¨ï¼‰ç®€ä»‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-timerï¼ˆå®šæ—¶å™¨ï¼‰ç®€ä»‹"}},[t._v("ğŸŒ™")]),t._v(" 1.timerï¼ˆå®šæ—¶å™¨ï¼‰ç®€ä»‹")]),t._v(" "),a("p",[a("code",[t._v("timer")]),t._v(" æ¨¡å—å¼€æ”¾äº†ä¸€ä¸ª"),a("strong",[t._v("å…¨å±€")]),t._v("çš„ APIï¼Œç”¨äºå®‰æ’å‡½æ•°åœ¨æœªæ¥æŸä¸ªæ—¶é—´ç‚¹è¢«è°ƒç”¨ã€‚ å› ä¸ºå®šæ—¶å™¨å‡½æ•°æ˜¯å…¨å±€çš„ï¼Œæ‰€ä»¥ä½¿ç”¨ API ä¸éœ€è¦è°ƒç”¨ "),a("code",[t._v("require('timers')")]),t._v("ã€‚")]),t._v(" "),a("p",[t._v("Node.js ä¸­çš„å®šæ—¶å™¨å‡½æ•°å®ç°äº†ä¸ Web æµè§ˆå™¨æä¾›çš„å®šæ—¶å™¨ API ç±»ä¼¼çš„ APIï¼Œä½†æ˜¯ä½¿ç”¨äº†ä¸åŒçš„å†…éƒ¨å®ç°ï¼ˆæ„å»ºäº Node.js "),a("a",{attrs:{href:"http://nodejs.cn/s/eeiBdr",target:"_blank",rel:"noopener noreferrer"}},[t._v("äº‹ä»¶å¾ªç¯"),a("OutboundLink")],1),t._v("ï¼‰ã€‚")]),t._v(" "),a("h2",{attrs:{id:"_2-è®¾ç½®å®šæ—¶å™¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-è®¾ç½®å®šæ—¶å™¨"}},[t._v("ğŸŒ™")]),t._v(" 2.è®¾ç½®å®šæ—¶å™¨")]),t._v(" "),a("blockquote",[a("p",[t._v("["),a("a",{attrs:{href:"https://segmentfault.com/a/1190000013102056",target:"_blank",rel:"noopener noreferrer"}},[t._v("ç”±setTimeoutå’ŒsetImmediateæ‰§è¡Œé¡ºåºçš„éšæœºæ€§çª¥æ¢Nodeçš„äº‹ä»¶å¾ªç¯æœºåˆ¶"),a("OutboundLink")],1),t._v("](https://segmentfault.com/a/1190000013102056)")])]),t._v(" "),a("h3",{attrs:{id:"_2-1-setimmediate-callback-args-äº‹ä»¶è½®è¯¢çš„æœ«å°¾å¤„æ‰§è¡Œ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-setimmediate-callback-args-äº‹ä»¶è½®è¯¢çš„æœ«å°¾å¤„æ‰§è¡Œ"}},[t._v("ğŸŒ™")]),t._v(" 2.1 "),a("code",[t._v("setImmediate(callback[, ...args])")]),t._v("äº‹ä»¶è½®è¯¢çš„æœ«å°¾å¤„æ‰§è¡Œ")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("callback")]),t._v(" "),a("a",{attrs:{href:"http://nodejs.cn/s/ceTQa6",target:"_blank",rel:"noopener noreferrer"}},[a("Function",[a("OutboundLink")],1)],1),t._v(" Node.js "),a("a",{attrs:{href:"http://nodejs.cn/s/eeiBdr",target:"_blank",rel:"noopener noreferrer"}},[t._v("äº‹ä»¶å¾ªç¯"),a("OutboundLink")],1),t._v("çš„æ­¤å›åˆç»“æŸæ—¶è¦è°ƒç”¨çš„å‡½æ•°ã€‚")]),t._v(" "),a("li",[a("code",[t._v("...args")]),t._v(" "),a("a",{attrs:{href:"http://nodejs.cn/s/6sTGdS",target:"_blank",rel:"noopener noreferrer"}},[a("any",[a("OutboundLink")],1)],1),t._v(" å½“è°ƒç”¨ "),a("code",[t._v("callback")]),t._v(" æ—¶ä¼ å…¥çš„å¯é€‰çš„å‚æ•°ã€‚")]),t._v(" "),a("li",[t._v("è¿”å›: "),a("a",{attrs:{href:"http://nodejs.cn/s/SvSBDC",target:"_blank",rel:"noopener noreferrer"}},[a("Immediate",[a("OutboundLink")],1)],1),t._v(" ç”¨äº "),a("a",{attrs:{href:"http://nodejs.cn/s/tn26EY",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("clearImmediate()")]),a("OutboundLink")],1),t._v("ã€‚")])]),t._v(" "),a("p",[t._v("å®‰æ’åœ¨ I/O äº‹ä»¶çš„å›è°ƒä¹‹åç«‹å³æ‰§è¡Œçš„ "),a("code",[t._v("callback")]),t._v("ã€‚")]),t._v(" "),a("p",[t._v("å½“å¤šæ¬¡è°ƒç”¨ "),a("code",[t._v("setImmediate()")]),t._v(" æ—¶ï¼Œ "),a("code",[t._v("callback")]),t._v(" å‡½æ•°ä¼šæŒ‰å®ƒä»¬è¢«åˆ›å»ºçš„é¡ºåºæ”¾å…¥æ’é˜Ÿç­‰å¾…æ‰§è¡Œã€‚ æ¯è½®çš„äº‹ä»¶å¾ªç¯è¿­ä»£éƒ½ä¼šå¤„ç†æ•´ä¸ªå›è°ƒé˜Ÿåˆ—ã€‚ å¦‚æœä¸€ä¸ª immediate å®šæ—¶å™¨æ˜¯ä»ä¸€ä¸ªæ­£åœ¨æ‰§è¡Œä¸­çš„å›è°ƒå†…éƒ¨è¢«æ”¾å…¥é˜Ÿåˆ—ï¼Œåˆ™è¯¥å®šæ—¶å™¨å°†ä¸ä¼šè¢«è§¦å‘ï¼Œç›´åˆ°ä¸‹ä¸€è½®çš„äº‹ä»¶å¾ªç¯è¿­ä»£ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'before immediate'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setImmediate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("arg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("executing immediate: ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("arg"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'so immediate'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'after immediate'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¾“å‡ºç»“æœ")]),t._v("\nbefore immediate\nafter immediate\nexecuting immediate"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" so immediate\n")])])]),a("p",[t._v("æ­¤æ–¹æ³•æœ‰ä¸€ä¸ªå®šåˆ¶çš„ç”¨äº promise çš„å˜ä½“ï¼Œä½¿ç”¨ "),a("a",{attrs:{href:"http://nodejs.cn/s/DGMNHh",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("util.promisify()")]),a("OutboundLink")],1),t._v(" åˆ›å»ºï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" util "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'util'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" setImmediatePromise "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("promisify")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("setImmediate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setImmediatePromise")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'foobar'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// value === 'foobar' ï¼ˆä¼ å€¼æ˜¯å¯é€‰çš„ï¼‰")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿™ä¼šåœ¨æ‰€æœ‰çš„ I/O å›è°ƒä¹‹åæ‰§è¡Œã€‚")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æˆ–ä½¿ç”¨å¼‚æ­¥å‡½æ•°ã€‚")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("timerExample")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'åœ¨ I/O å›è°ƒä¹‹å‰'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setImmediatePromise")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'åœ¨ I/O å›è°ƒä¹‹å'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("timerExample")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"_2-2-setinterval-callback-delay-args-æ°¸è¿œçš„è½®è¯¢æ‰§è¡Œ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-setinterval-callback-delay-args-æ°¸è¿œçš„è½®è¯¢æ‰§è¡Œ"}},[t._v("ğŸŒ™")]),t._v(" 2.2 "),a("code",[t._v("setInterval(callback, delay[, ...args])")]),t._v("æ°¸è¿œçš„è½®è¯¢æ‰§è¡Œ")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("callback")]),t._v(" "),a("a",{attrs:{href:"http://nodejs.cn/s/ceTQa6",target:"_blank",rel:"noopener noreferrer"}},[a("function",[a("OutboundLink")],1)],1),t._v(" å½“å®šæ—¶å™¨åˆ°ç‚¹æ—¶è°ƒç”¨çš„å‡½æ•°ã€‚")]),t._v(" "),a("li",[a("code",[t._v("delay")]),t._v(" "),a("a",{attrs:{href:"http://nodejs.cn/s/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[a("number",[a("OutboundLink")],1)],1),t._v(" è°ƒç”¨ "),a("code",[t._v("callback")]),t._v(" ä¹‹å‰ç­‰å¾…çš„æ¯«ç§’æ•°ã€‚")]),t._v(" "),a("li",[a("code",[t._v("...args")]),t._v(" "),a("a",{attrs:{href:"http://nodejs.cn/s/6sTGdS",target:"_blank",rel:"noopener noreferrer"}},[a("any",[a("OutboundLink")],1)],1),t._v(" å½“è°ƒç”¨ "),a("code",[t._v("callback")]),t._v(" æ—¶ä¼ å…¥çš„å¯é€‰å‚æ•°ã€‚")]),t._v(" "),a("li",[t._v("è¿”å›: "),a("a",{attrs:{href:"http://nodejs.cn/s/ezS7LR",target:"_blank",rel:"noopener noreferrer"}},[a("Timeout",[a("OutboundLink")],1)],1),t._v(" ç”¨äº "),a("a",{attrs:{href:"http://nodejs.cn/s/zRW98q",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("clearInterval()")]),a("OutboundLink")],1),t._v("ã€‚")])]),t._v(" "),a("p",[t._v("å®‰æ’æ¯éš” "),a("code",[t._v("delay")]),t._v(" æ¯«ç§’é‡å¤æ‰§è¡Œ "),a("code",[t._v("callback")]),t._v("ã€‚")]),t._v(" "),a("p",[t._v("å½“ "),a("code",[t._v("delay")]),t._v(" å¤§äº "),a("code",[t._v("2147483647")]),t._v(" æˆ–å°äº "),a("code",[t._v("1")]),t._v(" æ—¶ï¼Œåˆ™ "),a("code",[t._v("delay")]),t._v(" å°†ä¼šè¢«è®¾ç½®ä¸º "),a("code",[t._v("1")]),t._v("ã€‚ éæ•´æ•°çš„ delay ä¼šè¢«æˆªæ–­ä¸ºæ•´æ•°ã€‚")]),t._v(" "),a("h3",{attrs:{id:"_2-3-settimeout-callback-delay-args-æŒ‡å®šæ—¶é—´ä¹‹åæ‰§è¡Œ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-settimeout-callback-delay-args-æŒ‡å®šæ—¶é—´ä¹‹åæ‰§è¡Œ"}},[t._v("ğŸŒ™")]),t._v(" 2.3 "),a("code",[t._v("setTimeout(callback, delay[, ...args])")]),t._v("æŒ‡å®šæ—¶é—´ä¹‹åæ‰§è¡Œ")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("callback")]),t._v(" "),a("a",{attrs:{href:"http://nodejs.cn/s/ceTQa6",target:"_blank",rel:"noopener noreferrer"}},[a("function",[a("OutboundLink")],1)],1),t._v(" å½“å®šæ—¶å™¨åˆ°ç‚¹æ—¶è°ƒç”¨çš„å‡½æ•°ã€‚")]),t._v(" "),a("li",[a("code",[t._v("delay")]),t._v(" "),a("a",{attrs:{href:"http://nodejs.cn/s/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[a("number",[a("OutboundLink")],1)],1),t._v(" è°ƒç”¨ "),a("code",[t._v("callback")]),t._v(" ä¹‹å‰ç­‰å¾…çš„æ¯«ç§’æ•°ã€‚")]),t._v(" "),a("li",[a("code",[t._v("...args")]),t._v(" "),a("a",{attrs:{href:"http://nodejs.cn/s/6sTGdS",target:"_blank",rel:"noopener noreferrer"}},[a("any",[a("OutboundLink")],1)],1),t._v(" å½“è°ƒç”¨ "),a("code",[t._v("callback")]),t._v(" æ—¶ä¼ å…¥çš„å¯é€‰å‚æ•°ã€‚")]),t._v(" "),a("li",[t._v("è¿”å›: "),a("a",{attrs:{href:"http://nodejs.cn/s/ezS7LR",target:"_blank",rel:"noopener noreferrer"}},[a("Timeout",[a("OutboundLink")],1)],1),t._v(" ç”¨äº "),a("a",{attrs:{href:"http://nodejs.cn/s/zRW98q",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("clearInterval()")]),a("OutboundLink")],1),t._v("ã€‚")])]),t._v(" "),a("p",[t._v("å®‰æ’åœ¨ "),a("code",[t._v("delay")]),t._v(" æ¯«ç§’ä¹‹åæ‰§è¡Œä¸€æ¬¡æ€§çš„ "),a("code",[t._v("callback")]),t._v("ã€‚")]),t._v(" "),a("p",[a("code",[t._v("callback")]),t._v(" å¯èƒ½ä¸ä¼šç²¾ç¡®åœ°åœ¨ "),a("code",[t._v("delay")]),t._v(" æ¯«ç§’åè¢«è°ƒç”¨ ã€‚ Node.js ä¸ä¿è¯å›è°ƒè¢«è§¦å‘çš„ç¡®åˆ‡æ—¶é—´ï¼Œä¹Ÿä¸ä¿è¯å®ƒä»¬çš„é¡ºåºã€‚ å›è°ƒä¼šåœ¨å°½å¯èƒ½æ¥è¿‘æŒ‡å®šçš„æ—¶é—´è¢«è°ƒç”¨ã€‚")]),t._v(" "),a("p",[t._v("å½“ "),a("code",[t._v("delay")]),t._v(" å¤§äº "),a("code",[t._v("2147483647")]),t._v(" æˆ–å°äº "),a("code",[t._v("1")]),t._v(" æ—¶ï¼Œåˆ™ "),a("code",[t._v("delay")]),t._v(" å°†ä¼šè¢«è®¾ç½®ä¸º "),a("code",[t._v("1")]),t._v("ã€‚ éæ•´æ•°çš„ delay ä¼šè¢«æˆªæ–­ä¸ºæ•´æ•°ã€‚")]),t._v(" "),a("p",[t._v("å¦‚æœ "),a("code",[t._v("callback")]),t._v(" ä¸æ˜¯å‡½æ•°ï¼Œåˆ™æŠ›å‡º "),a("a",{attrs:{href:"http://nodejs.cn/s/Z7Lqyj",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("TypeError")]),a("OutboundLink")],1),t._v("ã€‚")]),t._v(" "),a("p",[t._v("æ­¤æ–¹æ³•æœ‰ä¸€ä¸ªå®šåˆ¶çš„ç”¨äº promise çš„å˜ä½“ï¼Œä½¿ç”¨ "),a("a",{attrs:{href:"http://nodejs.cn/s/DGMNHh",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("util.promisify()")]),a("OutboundLink")],1),t._v(" åˆ›å»ºï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" util "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'util'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" setTimeoutPromise "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("promisify")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("setTimeout"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeoutPromise")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("40")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'foobar'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// value === 'foobar' ï¼ˆä¼ å€¼æ˜¯å¯é€‰çš„ï¼‰")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿™ä¼šåœ¨å¤§çº¦ 40 æ¯«ç§’åæ‰§è¡Œã€‚")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h2",{attrs:{id:"_3-å–æ¶ˆå®šæ—¶å™¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-å–æ¶ˆå®šæ—¶å™¨"}},[t._v("ğŸŒ™")]),t._v(" 3.å–æ¶ˆå®šæ—¶å™¨")]),t._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/s/Cjc23N",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("setImmediate()")]),a("OutboundLink")],1),t._v("ã€"),a("a",{attrs:{href:"http://nodejs.cn/s/hWCq4X",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("setInterval()")]),a("OutboundLink")],1),t._v(" å’Œ "),a("a",{attrs:{href:"http://nodejs.cn/s/UxXb1y",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("setTimeout()")]),a("OutboundLink")],1),t._v(" æ–¹æ³•ä¼šå„è‡ªè¿”å›è¡¨ç¤ºå®‰æ’çš„å®šæ—¶å™¨çš„å¯¹è±¡ã€‚ å®ƒä»¬å¯ç”¨äºå–æ¶ˆå®šæ—¶å™¨å¹¶é˜»æ­¢å…¶è§¦å‘ã€‚")]),t._v(" "),a("p",[t._v("ä½¿ç”¨ "),a("a",{attrs:{href:"http://nodejs.cn/s/Cjc23N",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("setImmediate()")]),a("OutboundLink")],1),t._v("ã€"),a("a",{attrs:{href:"http://nodejs.cn/s/UxXb1y",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("setTimeout()")]),a("OutboundLink")],1),t._v(" çš„ promise åŒ–çš„å˜ä½“åˆ›å»ºçš„å®šæ—¶å™¨åˆ™æ— æ³•å–æ¶ˆã€‚")]),t._v(" "),a("h3",{attrs:{id:"_3-1clearimmediate-immediate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1clearimmediate-immediate"}},[t._v("ğŸŒ™")]),t._v(" 3.1"),a("code",[t._v("clearImmediate(immediate)")])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("immediate")]),t._v(" "),a("a",{attrs:{href:"http://nodejs.cn/s/SvSBDC",target:"_blank",rel:"noopener noreferrer"}},[a("Immediate",[a("OutboundLink")],1)],1),t._v(" "),a("a",{attrs:{href:"http://nodejs.cn/s/Cjc23N",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("setImmediate()")]),a("OutboundLink")],1),t._v(" è¿”å›çš„ "),a("code",[t._v("Immediate")]),t._v(" å¯¹è±¡ã€‚")])]),t._v(" "),a("p",[t._v("å–æ¶ˆç”± "),a("a",{attrs:{href:"http://nodejs.cn/s/Cjc23N",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("setImmediate()")]),a("OutboundLink")],1),t._v(" åˆ›å»ºçš„ "),a("code",[t._v("Immediate")]),t._v(" å¯¹è±¡ã€‚")]),t._v(" "),a("h3",{attrs:{id:"_3-2clearinterval-timeout"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2clearinterval-timeout"}},[t._v("ğŸŒ™")]),t._v(" 3.2"),a("code",[t._v("clearInterval(timeout)")])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("timeout")]),t._v(" "),a("a",{attrs:{href:"http://nodejs.cn/s/ezS7LR",target:"_blank",rel:"noopener noreferrer"}},[a("Timeout",[a("OutboundLink")],1)],1),t._v(" "),a("a",{attrs:{href:"http://nodejs.cn/s/hWCq4X",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("setInterval()")]),a("OutboundLink")],1),t._v(" è¿”å›çš„ "),a("code",[t._v("Timeout")]),t._v(" å¯¹è±¡ã€‚")])]),t._v(" "),a("p",[t._v("å–æ¶ˆç”± "),a("a",{attrs:{href:"http://nodejs.cn/s/hWCq4X",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("setInterval()")]),a("OutboundLink")],1),t._v(" åˆ›å»ºçš„ "),a("code",[t._v("Timeout")]),t._v(" å¯¹è±¡ã€‚")]),t._v(" "),a("h3",{attrs:{id:"_3-3cleartimeout-timeout"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3cleartimeout-timeout"}},[t._v("ğŸŒ™")]),t._v(" 3.3"),a("code",[t._v("clearTimeout(timeout)")])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("timeout")]),t._v(" "),a("a",{attrs:{href:"http://nodejs.cn/s/ezS7LR",target:"_blank",rel:"noopener noreferrer"}},[a("Timeout",[a("OutboundLink")],1)],1),t._v(" "),a("a",{attrs:{href:"http://nodejs.cn/s/UxXb1y",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("setTimeout()")]),a("OutboundLink")],1),t._v(" è¿”å›çš„ "),a("code",[t._v("Timeout")]),t._v(" å¯¹è±¡ã€‚")])]),t._v(" "),a("p",[t._v("å–æ¶ˆç”± "),a("a",{attrs:{href:"http://nodejs.cn/s/UxXb1y",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("setTimeout()")]),a("OutboundLink")],1),t._v(" åˆ›å»ºçš„ "),a("code",[t._v("Timeout")]),t._v(" å¯¹è±¡ã€‚")])])}),[],!1,null,null,null);e.default=s.exports}}]);